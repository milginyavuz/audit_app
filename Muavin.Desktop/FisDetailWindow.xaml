<Window x:Class="Muavin.Desktop.FisDetailWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Fiş Detayı"
        Height="650" Width="1200"
        WindowStartupLocation="CenterOwner">

    <DockPanel Margin="10">

        <!-- ÜST: Başlık -->
        <StackPanel DockPanel.Dock="Top" Margin="0,0,0,8">
            <TextBlock Text="{Binding TitleText}" FontSize="16" FontWeight="Bold"/>
            <TextBlock Text="{Binding SubTitleText}" Foreground="Gray" Margin="0,4,0,0"/>

            <!-- Uyarı (dengesizse) -->
            <TextBlock Text="{Binding WarningText}"
                       Foreground="DarkRed"
                       FontWeight="SemiBold"
                       Margin="0,6,0,0"/>
        </StackPanel>

        <!-- ALT: Toplamlar -->
        <StatusBar DockPanel.Dock="Bottom">
            <StatusBarItem HorizontalAlignment="Left">
                <StackPanel Orientation="Horizontal">
                    <TextBlock Text="Toplam Borç: " FontWeight="SemiBold"/>
                    <TextBlock Text="{Binding TotalBorc, StringFormat={}{0:N2}}" Margin="4,0,16,0"/>

                    <TextBlock Text="Toplam Alacak: " FontWeight="SemiBold"/>
                    <TextBlock Text="{Binding TotalAlacak, StringFormat={}{0:N2}}" Margin="4,0,16,0"/>

                    <TextBlock Text="Fark: " FontWeight="SemiBold"/>
                    <TextBlock Text="{Binding TotalFark, StringFormat={}{0:N2}}" Margin="4,0,0,0"/>
                </StackPanel>
            </StatusBarItem>
        </StatusBar>

        <!-- ORTA: Liste -->
        <DataGrid ItemsSource="{Binding Rows}"
                  AutoGenerateColumns="False"
                  IsReadOnly="True"
                  CanUserAddRows="False"
                  HeadersVisibility="Column"
                  GridLinesVisibility="Horizontal"
                  RowHeaderWidth="0">

            <DataGrid.Columns>
                <DataGridTextColumn Header="Tarih"
                                    Binding="{Binding PostingDate, StringFormat={}{0:dd.MM.yyyy}}"
                                    Width="95"/>

                <DataGridTextColumn Header="Hesap Kodu"
                                    Binding="{Binding HesapKodu}"
                                    Width="170"/>

                <DataGridTextColumn Header="Hesap Adı"
                                    Binding="{Binding HesapAdi}"
                                    Width="300"/>

                <DataGridTextColumn Header="Borç"
                                    Binding="{Binding Borc, StringFormat={}{0:N2}}"
                                    Width="130"/>

                <DataGridTextColumn Header="Alacak"
                                    Binding="{Binding Alacak, StringFormat={}{0:N2}}"
                                    Width="130"/>

                <DataGridTextColumn Header="Bakiye"
                                    Binding="{Binding RunningBalance, StringFormat={}{0:N2}}"
                                    Width="140"/>
            </DataGrid.Columns>
        </DataGrid>

    </DockPanel>
</Window>
